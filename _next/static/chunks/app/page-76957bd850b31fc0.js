(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{585:function(e,s,t){Promise.resolve().then(t.bind(t,6421))},6421:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return P}});var a=t(7437),r=t(2265),l=t(4586),o=t(2969),n=t(4800),i=t(49),d=t(1257),c=t(6759),x=t(9539),m=t(2116),u=t(5494),h=t(5147),f=t(6445),g=t(5589),b=t(8203),p=t(1981),j=t(6141),v=t(2170);t(2413);var y=JSON.parse('{"2024":["2024-01-01","2024-01-08","2024-03-25","2024-03-28","2024-03-29","2024-05-01","2024-05-13","2024-06-03","2024-06-10","2024-07-01","2024-07-20","2024-08-07","2024-08-19","2024-10-14","2024-11-04","2024-11-11","2024-12-08","2024-12-25"],"2025":["2025-01-01","2025-01-06","2025-03-24","2025-04-17","2025-04-18","2025-05-01","2025-05-26","2025-06-16","2025-06-23","2025-06-30","2025-07-20","2025-08-07","2025-08-18","2025-10-13","2025-11-03","2025-11-17","2025-12-08","2025-12-25"],"2026":["2026-01-01","2026-01-05","2026-03-23","2026-04-02","2026-04-03","2026-05-01","2026-05-18","2026-06-08","2026-06-15","2026-06-29","2026-07-20","2026-08-07","2026-08-17","2026-10-12","2026-11-02","2026-11-16","2026-12-08","2026-12-25"],"2027":["2027-01-01","2027-01-11","2027-03-22","2027-03-25","2027-03-26","2027-05-01","2027-05-10","2027-05-31","2027-06-07","2027-06-29","2027-07-20","2027-08-07","2027-08-16","2027-10-11","2027-11-01","2027-11-15","2027-12-08","2027-12-25"],"2028":["2028-01-01","2028-01-10","2028-03-20","2028-04-13","2028-04-14","2028-05-01","2028-05-29","2028-06-19","2028-06-26","2028-06-29","2028-07-20","2028-08-07","2028-08-15","2028-10-16","2028-11-06","2028-11-13","2028-12-08","2028-12-25"],"2029":["2029-01-01","2029-01-08","2029-03-19","2029-03-29","2029-03-30","2029-05-01","2029-05-14","2029-06-04","2029-06-11","2029-06-29","2029-07-20","2029-08-07","2029-08-15","2029-10-15","2029-11-05","2029-11-12","2029-12-08","2029-12-25"],"2030":["2030-01-01","2030-01-07","2030-03-18","2030-04-18","2030-04-19","2030-05-01","2030-05-06","2030-05-27","2030-06-03","2030-06-29","2030-07-20","2030-08-07","2030-08-15","2030-10-14","2030-11-04","2030-11-11","2030-12-08","2030-12-25"],"2031":["2031-01-01","2031-01-06","2031-03-17","2031-04-10","2031-04-11","2031-05-01","2031-05-26","2031-06-16","2031-06-23","2031-06-30","2031-07-20","2031-08-07","2031-08-15","2031-10-13","2031-11-03","2031-11-17","2031-12-08","2031-12-25"],"2032":["2032-01-01","2032-01-05","2032-03-15","2032-03-25","2032-03-26","2032-05-01","2032-05-17","2032-06-07","2032-06-14","2032-06-29","2032-07-20","2032-08-07","2032-08-15","2032-10-11","2032-11-01","2032-11-15","2032-12-08","2032-12-25"],"2033":["2033-01-01","2033-01-10","2033-03-21","2033-04-14","2033-04-15","2033-05-01","2033-05-09","2033-05-30","2033-06-06","2033-06-29","2033-07-20","2033-08-07","2033-08-15","2033-10-17","2033-11-07","2033-11-14","2033-12-08","2033-12-25"],"2034":["2034-01-01","2034-01-09","2034-03-20","2034-03-30","2034-03-31","2034-05-01","2034-05-29","2034-06-19","2034-06-26","2034-06-29","2034-07-20","2034-08-07","2034-08-15","2034-10-16","2034-11-06","2034-11-13","2034-12-08","2034-12-25"],"2035":["2035-01-01","2035-01-08","2035-03-19","2035-04-19","2035-04-20","2035-05-01","2035-05-14","2035-06-04","2035-06-11","2035-06-29","2035-07-20","2035-08-07","2035-08-15","2035-10-15","2035-11-05","2035-11-12","2035-12-08","2035-12-25"],"2036":["2036-01-01","2036-01-07","2036-03-17","2036-04-03","2036-04-04","2036-05-01","2036-05-05","2036-05-26","2036-06-02","2036-06-29","2036-07-20","2036-08-07","2036-08-15","2036-10-13","2036-11-03","2036-11-17","2036-12-08","2036-12-25"],"2037":["2037-01-01","2037-01-05","2037-03-16","2037-03-26","2037-03-27","2037-05-01","2037-05-25","2037-06-15","2037-06-22","2037-06-29","2037-07-20","2037-08-07","2037-08-15","2037-10-12","2037-11-02","2037-11-16","2037-12-08","2037-12-25"],"2038":["2038-01-01","2038-01-11","2038-03-15","2038-04-15","2038-04-16","2038-05-01","2038-05-17","2038-06-07","2038-06-14","2038-06-29","2038-07-20","2038-08-07","2038-08-15","2038-10-11","2038-11-01","2038-11-15","2038-12-08","2038-12-25"],"2039":["2039-01-01","2039-01-10","2039-03-21","2039-03-31","2039-04-01","2039-05-01","2039-05-09","2039-05-30","2039-06-06","2039-06-29","2039-07-20","2039-08-07","2039-08-15","2039-10-17","2039-11-07","2039-11-14","2039-12-08","2039-12-25"],"2040":["2040-01-01","2040-01-09","2040-03-19","2040-04-19","2040-04-20","2040-05-01","2040-05-29","2040-06-19","2040-06-26","2040-06-29","2040-07-20","2040-08-07","2040-08-15","2040-10-15","2040-11-05","2040-11-12","2040-12-08","2040-12-25"]}'),N=t(4131),w=t(7256),k=t(6061),S=t(7042),E=t(4769);function C(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,E.m6)((0,S.W)(s))}let F=(0,k.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),D=r.forwardRef((e,s)=>{let{className:t,variant:r,size:l,asChild:o=!1,...n}=e,i=o?w.g7:"button";return(0,a.jsx)(i,{className:C(F({variant:r,size:l,className:t})),ref:s,...n})});D.displayName="Button";let M=r.forwardRef((e,s)=>{let{className:t,type:r,...l}=e;return(0,a.jsx)("input",{type:r,className:C("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...l})});M.displayName="Input";var L=t(6743);let Z=(0,k.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),O=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(L.f,{ref:s,className:C(Z(),t),...r})});O.displayName=L.f.displayName;var R=t(7809),A=t(3523),H=t(9224),V=t(2442);let B=R.fC;R.ZA;let T=R.B4,$=r.forwardRef((e,s)=>{let{className:t,children:r,...l}=e;return(0,a.jsxs)(R.xz,{ref:s,className:C("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...l,children:[r,(0,a.jsx)(R.JO,{asChild:!0,children:(0,a.jsx)(A.Z,{className:"h-4 w-4 opacity-50"})})]})});$.displayName=R.xz.displayName;let z=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(R.u_,{ref:s,className:C("flex cursor-default items-center justify-center py-1",t),...r,children:(0,a.jsx)(H.Z,{className:"h-4 w-4"})})});z.displayName=R.u_.displayName;let _=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(R.$G,{ref:s,className:C("flex cursor-default items-center justify-center py-1",t),...r,children:(0,a.jsx)(A.Z,{className:"h-4 w-4"})})});_.displayName=R.$G.displayName;let I=r.forwardRef((e,s)=>{let{className:t,children:r,position:l="popper",...o}=e;return(0,a.jsx)(R.h_,{children:(0,a.jsxs)(R.VY,{ref:s,className:C("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:l,...o,children:[(0,a.jsx)(z,{}),(0,a.jsx)(R.l_,{className:C("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,a.jsx)(_,{})]})})});I.displayName=R.VY.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(R.__,{ref:s,className:C("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...r})}).displayName=R.__.displayName;let G=r.forwardRef((e,s)=>{let{className:t,children:r,...l}=e;return(0,a.jsxs)(R.ck,{ref:s,className:C("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...l,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(R.wU,{children:(0,a.jsx)(V.Z,{className:"h-4 w-4"})})}),(0,a.jsx)(R.eT,{children:r})]})});G.displayName=R.ck.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(R.Z0,{ref:s,className:C("-mx-1 my-1 h-px bg-muted",t),...r})}).displayName=R.Z0.displayName;let W=[{nombre:"BOMBERO",salario:2054865},{nombre:"CABO DE BOMBERO",salario:2197821},{nombre:"SARGENTO DE BOMBERO",salario:2269299},{nombre:"TENIENTE DE BOMBERO",salario:2510541}],Y=e=>/^([01]\d|2[0-3]):([0-5]\d)$/.test(e);function P(){let[e,s]=(0,r.useState)((0,l.Z)(new Date)),[t,w]=(0,r.useState)({}),[k,S]=(0,r.useState)("BOMBERO"),[E,F]=(0,r.useState)(2054865),[L,Z]=(0,r.useState)(0),[R,A]=(0,r.useState)(0),[H,V]=(0,r.useState)(0),[z,_]=(0,r.useState)(0),[P,U]=(0,r.useState)(0),[q,K]=(0,r.useState)({horasNormales:0,horasNocturnasLV:0,horasDiurnasFestivos:0,horasNocturnasFestivos:0,horasExtDiurnasLV:0,horasExtNocturnasLV:0,horasExtDiurnasFestivos:0,horasExtNocturnasFestivos:0}),[J,Q]=(0,r.useState)(0),[X,ee]=(0,r.useState)(!1),[es,et]=(0,r.useState)(!1),[ea,er]=(0,r.useState)(""),[el,eo]=(0,r.useState)(""),[en,ei]=(0,r.useState)(W),[ed,ec]=(0,r.useState)(null),[ex,em]=(0,r.useState)(null);(0,r.useRef)(null),(0,r.useRef)(null);let[eu,eh]=(0,r.useState)("registro"),[ef,eg]=(0,r.useState)(!1),[eb,ep]=(0,r.useState)(null),[ej,ev]=(0,r.useState)(null),[ey,eN]=(0,r.useState)(""),[ew,ek]=(0,r.useState)(""),eS=(0,r.useRef)(null);(0,r.useEffect)(()=>{fetch("/api/registrar-acceso",{method:"POST"})},[]);let eE=e=>"".concat(Math.floor(e/60).toString().padStart(2,"0"),":").concat((e%60).toString().padStart(2,"0")),eC=(()=>{let s=[],t=(0,l.Z)(e),a=(0,o.Z)(e),r=(0,n.Z)(t,{weekStartsOn:1});for(;r<=a;){let e=(0,i.Z)(r,{weekStartsOn:1});s.push({inicio:new Date(r),fin:new Date(e)}),r=(0,d.Z)(e,1)}return s})(),eF=(()=>{let e=eC[J],s=[];for(let t=0;t<7;t++){let a=(0,d.Z)(e.inicio,t);s.push(a)}return s})();(0,r.useEffect)(()=>{let s={},t=(0,l.Z)(e);(0,o.Z)(e);let a=(0,c.Z)(e);for(let e=0;e<a;e++){let a=(0,d.Z)(t,e),r=(0,x.Z)(a,"yyyy-MM-dd"),l=eD(a);s[r]={entrada1:"",salida1:"",entrada2:"",salida2:"",total:"",esFestivo:l||0===a.getDay()}}w(s)},[e]);let eD=e=>{let s=(0,x.Z)(e,"yyyy-MM-dd"),t=0===e.getDay(),a=e.getFullYear().toString();return t||y[a]&&y[a].includes(s)},eM=(e,s,t)=>{w(a=>{let r={...a};r[e]={...r[e],[s]:t};let l=0;try{if(Y(r[e].entrada1)&&Y(r[e].salida1)){let s=(0,m.Z)(r[e].entrada1,"HH:mm",new Date),t=(0,m.Z)(r[e].salida1,"HH:mm",new Date),a=(0,u.Z)(t,s);a<0&&(a+=1440),l+=a}if(Y(r[e].entrada2)&&Y(r[e].salida2)){let s=(0,m.Z)(r[e].entrada2,"HH:mm",new Date),t=(0,m.Z)(r[e].salida2,"HH:mm",new Date),a=(0,u.Z)(t,s);a<0&&(a+=1440),l+=a}let s=Math.floor(l/60),t=l%60;r[e].total=l>0?"".concat(s,":").concat(t.toString().padStart(2,"0")):""}catch(s){r[e].total="Error"}return r})};(0,r.useEffect)(()=>{if(!en.find(e=>e.nombre===k)){var e,s;S((null===(e=en[0])||void 0===e?void 0:e.nombre)||""),F((null===(s=en[0])||void 0===s?void 0:s.salario)||0)}},[en]);let eL=e=>(0,N.createHash)("sha256").update(e).digest("hex"),eZ=e=>{e.preventDefault(),eL(ey)===eL("AdminBomberos2025")?(et(!1),ee(!0),eN(""),ek("")):ek("Contrase\xf1a incorrecta")},eO=()=>{let[e,s]=(0,r.useState)(null),[t,l]=(0,r.useState)(""),[o,n]=(0,r.useState)(""),[i,d]=(0,r.useState)(""),c=e=>{e.preventDefault(),!o.trim()||!i.trim()||isNaN(Number(i))||(ei([...en,{nombre:o.trim(),salario:Number(i)}]),n(""),d(""))},x=e=>{!t.trim()||isNaN(Number(t))||(ei(en.map(s=>s.nombre===e?{...s,salario:Number(t)}:s)),s(null),l(""))};return(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 w-full max-w-2xl relative",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold text-bomberored-800 flex items-center gap-2",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Gesti\xf3n de Cargos"]}),(0,a.jsx)("button",{className:"text-gray-500 hover:text-bomberored-700 transition-colors",onClick:()=>ee(!1),children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,a.jsxs)("form",{className:"flex flex-col md:flex-row gap-4 mb-8 p-4 bg-gray-50 rounded-lg border border-gray-200",onSubmit:c,children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(O,{htmlFor:"nuevoCargo",className:"text-sm font-medium text-gray-700 mb-1 block",children:"Nuevo Cargo"}),(0,a.jsx)("input",{id:"nuevoCargo",type:"text",placeholder:"Ingrese el nombre del cargo",value:o,onChange:e=>{n(e.target.value.toUpperCase())},className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-bomberored-700",required:!0,autoComplete:"off",spellCheck:"false",onKeyDown:e=>{if("Enter"===e.key){var s;e.preventDefault(),null===(s=document.getElementById("nuevoSalario"))||void 0===s||s.focus()}}})]}),(0,a.jsxs)("div",{className:"w-full md:w-48",children:[(0,a.jsx)(O,{htmlFor:"nuevoSalario",className:"text-sm font-medium text-gray-700 mb-1 block",children:"Salario"}),(0,a.jsx)("input",{id:"nuevoSalario",type:"text",inputMode:"numeric",pattern:"[0-9]*",placeholder:"Salario",value:i,onChange:e=>{d(e.target.value.replace(/[^0-9]/g,""))},className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-bomberored-700",required:!0,autoComplete:"off",spellCheck:"false",onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),c(e))}})]}),(0,a.jsx)("div",{className:"flex items-end",children:(0,a.jsx)(D,{type:"submit",className:"w-full md:w-auto bg-bomberored-700 hover:bg-bomberored-800",children:"Agregar Cargo"})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-12 gap-4 font-bold text-sm text-gray-500 border-b border-gray-200 pb-2",children:[(0,a.jsx)("div",{className:"col-span-6",children:"CARGO"}),(0,a.jsx)("div",{className:"col-span-4",children:"SALARIO"}),(0,a.jsx)("div",{className:"col-span-2 text-center",children:"ACCIONES"})]}),en.map(r=>(0,a.jsxs)("div",{className:"grid grid-cols-12 gap-4 items-center py-3 border-b border-gray-100",children:[(0,a.jsx)("div",{className:"col-span-6",children:(0,a.jsx)("span",{className:"font-medium text-gray-900",children:r.nombre})}),(0,a.jsx)("div",{className:"col-span-4",children:e===r.nombre?(0,a.jsx)("input",{type:"text",value:t,onChange:e=>l(e.target.value.replace(/[^0-9]/g,"")),className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-bomberored-700",autoComplete:"off",spellCheck:"false",autoFocus:!0,onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),x(r.nombre))}}):(0,a.jsxs)("span",{className:"text-gray-900",children:["$ ",r.salario.toLocaleString()]})}),(0,a.jsx)("div",{className:"col-span-2 flex items-center justify-end gap-2",children:e===r.nombre?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(D,{size:"sm",variant:"outline",onClick:()=>x(r.nombre),children:"Guardar"}),(0,a.jsx)(D,{size:"sm",variant:"outline",onClick:()=>{s(null),l("")},children:"Cancelar"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(D,{size:"sm",variant:"outline",onClick:()=>{s(r.nombre),l(r.salario.toString())},children:"Editar"}),(0,a.jsx)(D,{size:"sm",variant:"destructive",onClick:()=>{if(r.nombre===k){alert("No puedes eliminar el cargo seleccionado.");return}ei(en.filter(e=>e.nombre!==r.nombre))},disabled:r.nombre===k,children:"Eliminar"})]})})]},r.nombre))]})]})})},eR=()=>((0,r.useEffect)(()=>{es&&setTimeout(()=>{var e;null===(e=eS.current)||void 0===e||e.focus()},0)},[es]),(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 w-full max-w-md relative",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold text-bomberored-800 flex items-center gap-2",children:[(0,a.jsx)(g.Z,{className:"w-6 h-6"}),"Autenticaci\xf3n"]}),(0,a.jsx)("button",{className:"text-gray-500 hover:text-bomberored-700 transition-colors",onClick:()=>{et(!1),eN(""),ek("")},children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,a.jsxs)("form",{onSubmit:eZ,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(O,{htmlFor:"password",className:"text-sm font-medium text-gray-700 mb-1 block",children:"Contrase\xf1a"}),(0,a.jsx)(M,{ref:eS,id:"password",type:"password",value:ey,onChange:e=>eN(e.target.value),className:"w-full",placeholder:"Ingrese la contrase\xf1a",required:!0,autoComplete:"off"}),ew&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:ew})]}),(0,a.jsx)(D,{type:"submit",className:"w-full bg-bomberored-700 hover:bg-bomberored-800",children:"Acceder"})]})]})})),eA=E/190/60,eH=eA*q.horasNocturnasLV*.35,eV=eA*q.horasNocturnasFestivos*2.35,eB=eA*q.horasDiurnasFestivos*2,eT=eA*q.horasExtDiurnasLV*1.25,e$=eA*q.horasExtNocturnasLV*1.75,ez=eA*q.horasExtDiurnasFestivos*2.25,e_=eA*q.horasExtNocturnasFestivos*2.75;return(0,a.jsxs)("div",{className:"container mx-auto py-8 flex flex-col gap-8",children:[(0,a.jsxs)("div",{className:"flex bg-gray-100 rounded-lg p-1 w-fit mx-auto mb-4",children:[(0,a.jsx)("button",{className:"px-8 py-2 rounded-md font-bold transition-colors ".concat("registro"===eu?"bg-white text-black shadow":"text-gray-500"),onClick:()=>eh("registro"),children:"Registro de Horas"}),(0,a.jsx)("button",{className:"px-8 py-2 rounded-md font-bold transition-colors ".concat("calculos"===eu?"bg-white text-black shadow":"text-gray-500"),onClick:()=>eh("calculos"),children:"C\xe1lculos y Reportes"})]}),"registro"===eu&&(0,a.jsxs)(a.Fragment,{children:[es&&(0,a.jsx)(eR,{}),X&&(0,a.jsx)(eO,{}),(0,a.jsxs)("section",{className:"bg-white rounded-2xl shadow-md p-6 flex flex-col md:flex-row md:items-center md:justify-between gap-4 border border-gray-100",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2 w-fit",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)(b.Z,{className:"h-7 w-7 text-red-500"}),(0,a.jsx)("span",{className:"text-2xl font-bold text-black",children:"Seleccionar Mes"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{type:"button",className:"flex items-center gap-2 bg-gray-50 border border-gray-300 rounded-lg px-5 py-2 text-lg font-medium text-gray-700 shadow-sm hover:bg-gray-100 focus:ring-2 focus:ring-red-300 transition",onClick:()=>eg(!0),children:[(0,a.jsx)(b.Z,{className:"flex items-center justify-center h-5 w-5 text-gray-400"}),(0,a.jsx)("span",{children:(0,x.Z)(e,"MMMM 'de' yyyy",{locale:f.Z})})]}),ef&&(0,a.jsx)("div",{className:"absolute left-0 top-full mt-2 bg-white rounded-xl shadow-lg z-30",children:(0,a.jsx)(v.ZP,{selected:e,onChange:e=>{e&&s((0,l.Z)(e)),eg(!1)},onClickOutside:()=>eg(!1),dateFormat:"MMMM yyyy",showMonthYearPicker:!0,inline:!0,locale:f.Z})})]})]}),(0,a.jsx)("div",{children:(0,a.jsxs)("button",{className:"flex items-center gap-2 bg-red-500 hover:bg-red-600 text-white font-bold px-5 py-2 rounded-lg shadow-sm border border-red-500 transition-colors text-lg",onClick:()=>{let e={...t};Object.keys(e).forEach(s=>{e[s]={...e[s],entrada1:"",salida1:"",entrada2:"",salida2:"",total:""}}),w(e)},type:"button",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Limpiar Todo"]})})]}),(0,a.jsxs)("section",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mt-4",children:[(0,a.jsxs)("button",{className:"bg-white border border-gray-300 text-black font-bold px-6 py-2 rounded-lg shadow-sm transition-colors flex items-center gap-2",onClick:()=>Q(e=>Math.max(0,e-1)),disabled:0===J,type:"button",children:[(0,a.jsx)("span",{className:"text-lg",children:"←"})," Semana anterior"]}),(0,a.jsxs)("div",{className:"font-bold text-lg text-black text-center flex-1",children:["Semana ",J+1," de ",eC.length]}),(0,a.jsxs)("button",{className:"bg-white border border-gray-300 text-black font-bold px-6 py-2 rounded-lg shadow-sm transition-colors flex items-center gap-2 justify-end",onClick:()=>Q(e=>Math.min(eC.length-1,e+1)),disabled:J===eC.length-1,type:"button",children:["Semana siguiente ",(0,a.jsx)("span",{className:"text-lg",children:"→"})]})]}),(0,a.jsxs)("section",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-7 gap-4 font-bold mb-2 text-center text-black",children:[(0,a.jsx)("div",{className:"text-left",children:"D\xcdA"}),(0,a.jsx)("div",{children:"ENTRADA 1"}),(0,a.jsx)("div",{children:"SALIDA 1"}),(0,a.jsx)("div",{children:"ENTRADA 2"}),(0,a.jsx)("div",{children:"SALIDA 2"}),(0,a.jsx)("div",{children:"TOTAL"}),(0,a.jsx)("div",{children:"FESTIVOS"})]}),eF.map((s,r)=>{let l=(0,x.Z)(s,"yyyy-MM-dd"),o=(0,x.Z)(s,"EEEE",{locale:f.Z}).toUpperCase(),n=(0,x.Z)(s,"dd/MM/yyyy"),i=(0,h.Z)(s,e),d=t[l]||{entrada1:"",salida1:"",entrada2:"",salida2:"",total:"",esFestivo:!1};return(0,a.jsxs)("div",{className:C("grid grid-cols-7 gap-4 mb-0 items-center rounded-lg border-b border-gray-200 py-2",r%2==0?"bg-white":"bg-[#F8FAFC]",!i&&"bg-gray-100 opacity-60"),children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-bold text-black text-sm",children:o}),(0,a.jsx)("div",{className:"text-gray-500 text-xs",children:n})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)(M,{type:"time",value:d.entrada1,onChange:e=>eM(l,"entrada1",e.target.value),readOnly:!i,className:C("text-center rounded-md px-2 py-1 text-black border border-gray-300 focus:outline-none focus:ring-2 focus:ring-bomberored-700 w-full",i?"bg-white":"bg-[#FEF2F2] text-gray-400")})}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)(M,{type:"time",value:d.salida1,onChange:e=>eM(l,"salida1",e.target.value),readOnly:!i,className:C("text-center rounded-md px-2 py-1 text-black border border-gray-300 focus:outline-none focus:ring-2 focus:ring-bomberored-700 w-full",i?"bg-white":"bg-[#FEF2F2] text-gray-400")})}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)(M,{type:"time",value:d.entrada2,onChange:e=>eM(l,"entrada2",e.target.value),readOnly:!i,className:C("text-center rounded-md px-2 py-1 text-black border border-gray-300 focus:outline-none focus:ring-2 focus:ring-bomberored-700 w-full",i?"bg-white":"bg-[#FEF2F2] text-gray-400")})}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)(M,{type:"time",value:d.salida2,onChange:e=>eM(l,"salida2",e.target.value),readOnly:!i,className:C("text-center rounded-md px-2 py-1 text-black border border-gray-300 focus:outline-none focus:ring-2 focus:ring-bomberored-700 w-full",i?"bg-white":"bg-[#FEF2F2] text-gray-400")})}),(0,a.jsx)("div",{className:"text-center font-bold text-blue-900 text-base",children:d.total||"0:00"}),(0,a.jsx)("div",{className:"flex justify-center",children:d.esFestivo&&(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full bg-[#F44E4E] text-white font-bold text-sm",children:[(0,a.jsx)(p.Z,{className:"w-4 h-4"}),"Domingo/Festivo"]})})]},l)})]})]}),"calculos"===eu&&(0,a.jsxs)(a.Fragment,{children:[es&&(0,a.jsx)(eR,{}),X&&(0,a.jsx)(eO,{}),(0,a.jsxs)("section",{className:"flex flex-col items-center gap-8 w-full",children:[(0,a.jsxs)("div",{className:"w-full flex flex-col md:flex-row gap-6",children:[(0,a.jsxs)("div",{className:"flex-1 bg-white rounded-xl border border-gray-200 shadow-sm p-6 flex flex-col gap-2 min-w-[260px]",children:[(0,a.jsx)("div",{className:"uppercase text-gray-500 font-bold text-sm mb-2",children:"Total trabajo mensual"}),(0,a.jsxs)("div",{className:"flex flex-row gap-8 justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 font-bold",children:"Tiempo total"}),(0,a.jsx)("div",{className:"text-2xl font-bold text-black",children:eE(L)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 font-bold",children:"Recargos"}),(0,a.jsxs)("div",{className:"text-2xl font-bold text-red-500",children:["$",R.toLocaleString()]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 font-bold",children:"Horas Extras"}),(0,a.jsxs)("div",{className:"text-2xl font-bold text-red-500",children:["$",H.toLocaleString()]})]})]})]}),(0,a.jsxs)("div",{className:"flex-1 bg-white rounded-xl border border-gray-200 shadow-sm p-6 flex flex-col gap-4 min-w-[260px]",children:[(0,a.jsx)("div",{className:"uppercase text-gray-500 font-bold text-sm mb-2",children:"Calcular precio horas extras"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 font-bold mb-1",children:"Cargo"}),(0,a.jsxs)(B,{value:k,onValueChange:e=>{S(e);let s=en.find(s=>s.nombre===e);s&&F(s.salario)},children:[(0,a.jsx)($,{id:"cargo",children:(0,a.jsx)(T,{placeholder:"Seleccionar cargo"})}),(0,a.jsx)(I,{className:"bg-white shadow-lg border border-gray-200 z-50",children:en.map(e=>(0,a.jsx)(G,{value:e.nombre,children:e.nombre},e.nombre))})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 font-bold mb-1",children:"Salario mensual"}),(0,a.jsxs)("div",{className:"text-2xl font-bold text-black",children:["$ ",E.toLocaleString()]})]}),(0,a.jsxs)(D,{id:"btn-gestionar-cargos",className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium flex items-center justify-center gap-2",type:"button",onClick:()=>{et(!0),eN(""),ek("")},children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Gestionar Cargos"]})]}),(0,a.jsxs)("div",{className:"flex-1 bg-white rounded-xl border border-gray-200 shadow-sm p-6 flex flex-col gap-2 min-w-[260px]",children:[(0,a.jsx)("div",{className:"uppercase text-gray-500 font-bold text-sm mb-2",children:"Resumen"}),(0,a.jsxs)("div",{className:"flex flex-row gap-8 justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 font-bold",children:"Total a pagar"}),(0,a.jsxs)("div",{className:"text-2xl font-bold text-red-500",children:["$",z.toLocaleString()]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 font-bold",children:"Tiempo compensatorio"}),(0,a.jsxs)("div",{className:"text-2xl font-bold text-black",children:[P," Horas"]})]})]})]})]}),(0,a.jsx)("div",{className:"flex flex-col md:flex-row gap-6 w-full justify-center mt-2",children:(0,a.jsxs)("button",{className:"bg-red-500 hover:bg-red-500 text-white w-full md:w-auto px-10 py-4 text-lg font-bold rounded-lg shadow flex items-center gap-2 justify-center transition-colors",onClick:()=>{let e=0,s=0,a=0,r=0,l=0,o=0,n=0,i=0,c=!1,u=null,h=null,f=E/190/60,g=.5*E,b=0,p=0;Object.entries(t).forEach(t=>{let[j,v]=t;if("Error"===v.total)return;let y=(0,m.Z)(j,"yyyy-MM-dd",new Date),N=v.esFestivo;[{entrada:v.entrada1,salida:v.salida1},{entrada:v.entrada2,salida:v.salida2}].forEach(t=>{let{entrada:j,salida:v}=t;if(!j||!v)return;let w=(0,m.Z)(j,"HH:mm",y),k=(0,m.Z)(v,"HH:mm",y);k<w&&(k=(0,d.Z)(k,1));let S=new Date(w);for(;S<k;){let t=new Date(S);t.setMinutes(t.getMinutes()+1);let d=S.getHours(),m=d>=18||d<6,j=d>=6&&d<18;if(++e<=11400)!N&&m&&s++,N&&m&&a++,N&&j&&r++;else{let e=0;!N&&j&&(l++,e=1.25*f),!N&&m&&(o++,e=1.75*f),N&&j&&(n++,e=2.25*f),N&&m&&(i++,e=2.75*f),b<g?(b+=e)>=g&&!c&&(c=!0,u=(0,x.Z)(S,"yyyy-MM-dd"),h=(0,x.Z)(S,"HH:mm")):p++}S=t}})});let j=f*s*.35+f*a*2.35+f*r*2,v=f*l*1.25+f*o*1.75+f*n*2.25+f*i*2.75,y=0;b>g&&(v=g,y=p>0?Math.floor(p/60):0),Z(e),A(j),V(v),_(j+v),U(y),ep(u),ev(h),K({horasNormales:Math.min(e,11400)-s-a-r,horasNocturnasLV:s,horasDiurnasFestivos:r,horasNocturnasFestivos:a,horasExtDiurnasLV:l,horasExtNocturnasLV:o,horasExtDiurnasFestivos:n,horasExtNocturnasFestivos:i})},type:"button",children:[(0,a.jsx)(j.Z,{className:"w-5 h-5"}),"CALCULAR HORAS Y RECARGOS"]})}),(0,a.jsxs)("section",{className:"w-full mt-8 grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6 flex flex-col gap-4",children:[(0,a.jsx)("div",{className:"uppercase text-bomberored-700 font-bold text-base mb-2",children:"Recargos"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Nocturnas L-V"}),(0,a.jsxs)("span",{children:[eE(q.horasNocturnasLV)," ",(0,a.jsxs)("span",{className:"text-gray-400",children:["($",eH.toLocaleString(void 0,{maximumFractionDigits:0}),")"]})]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Diurnas Festivo"}),(0,a.jsxs)("span",{children:[eE(q.horasDiurnasFestivos)," ",(0,a.jsxs)("span",{className:"text-gray-400",children:["($",eB.toLocaleString(void 0,{maximumFractionDigits:0}),")"]})]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Nocturnas Festivo"}),(0,a.jsxs)("span",{children:[eE(q.horasNocturnasFestivos)," ",(0,a.jsxs)("span",{className:"text-gray-400",children:["($",eV.toLocaleString(void 0,{maximumFractionDigits:0}),")"]})]})]})]}),(0,a.jsxs)("div",{className:"font-bold text-right mt-2",children:["Total Recargos: ",(0,a.jsxs)("span",{className:"text-bomberored-700",children:["$",R.toLocaleString()]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6 flex flex-col gap-4",children:[(0,a.jsx)("div",{className:"uppercase text-bomberored-700 font-bold text-base mb-2",children:"Horas Extras"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Extra Diurna L-V"}),(0,a.jsxs)("span",{children:[eE(q.horasExtDiurnasLV)," ",(0,a.jsxs)("span",{className:"text-gray-400",children:["($",eT.toLocaleString(void 0,{maximumFractionDigits:0}),")"]})]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Extra Nocturna L-V"}),(0,a.jsxs)("span",{children:[eE(q.horasExtNocturnasLV)," ",(0,a.jsxs)("span",{className:"text-gray-400",children:["($",e$.toLocaleString(void 0,{maximumFractionDigits:0}),")"]})]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Extra Diurna Festivo"}),(0,a.jsxs)("span",{children:[eE(q.horasExtDiurnasFestivos)," ",(0,a.jsxs)("span",{className:"text-gray-400",children:["($",ez.toLocaleString(void 0,{maximumFractionDigits:0}),")"]})]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Extra Nocturna Festivo"}),(0,a.jsxs)("span",{children:[eE(q.horasExtNocturnasFestivos)," ",(0,a.jsxs)("span",{className:"text-gray-400",children:["($",e_.toLocaleString(void 0,{maximumFractionDigits:0}),")"]})]})]})]}),(0,a.jsxs)("div",{className:"font-bold text-right mt-2",children:["Total Extras: ",(0,a.jsxs)("span",{className:"text-bomberored-700",children:["$",H.toLocaleString()]})]})]})]}),(0,a.jsxs)("div",{className:"w-full text-right mt-4 font-bold text-lg",children:["Total a pagar: ",(0,a.jsxs)("span",{className:"text-bomberored-800",children:["$",z.toLocaleString()]})]}),eb&&ej&&(0,a.jsxs)("div",{className:"w-full text-right mt-2 font-medium text-base text-gray-700",children:["Tope del 50% alcanzado el ",(0,a.jsx)("span",{className:"font-bold",children:(0,x.Z)((0,m.Z)(eb,"yyyy-MM-dd",new Date),"dd/MM/yyyy")})," a las ",(0,a.jsx)("span",{className:"font-bold",children:ej})]})]})]})]})}}},function(e){e.O(0,[501,333,218,365,971,938,744],function(){return e(e.s=585)}),_N_E=e.O()}]);